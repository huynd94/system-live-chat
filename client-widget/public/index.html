<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Chat Widget</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .demo-content {
            line-height: 1.6;
            color: #666;
            margin-bottom: 30px;
        }
        .config-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .config-section h3 {
            margin-top: 0;
            color: #333;
        }
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
        }
        .button {
            background: #3B82F6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover {
            background: #2563EB;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Demo Chat Widget</h1>
        
        <div class="demo-content">
            <p>ƒê√¢y l√† trang demo ƒë·ªÉ test widget chat. Widget s·∫Ω xu·∫•t hi·ªán ·ªü g√≥c d∆∞·ªõi b√™n ph·∫£i c·ªßa trang.</p>
            <p>B·∫°n c√≥ th·ªÉ t√πy ch·ªânh c·∫•u h√¨nh widget b·∫±ng c√°ch s·ª≠a ƒë·ªïi object <code>ChatWidgetConfig</code> b√™n d∆∞·ªõi.</p>
        </div>

        <div class="config-section">
            <h3>üîß C·∫•u h√¨nh widget hi·ªán t·∫°i:</h3>
            <pre id="config-display"></pre>
        </div>

        <div class="config-section">
            <h3>üìù C√°ch nh√∫ng v√†o website:</h3>
            <p>ƒê·ªÉ nh√∫ng widget v√†o website c·ªßa b·∫°n, th√™m ƒëo·∫°n code sau v√†o trang HTML:</p>
            <pre>&lt;script&gt;
  window.ChatWidgetConfig = {
    serverUrl: 'https://your-domain.com',
    position: 'bottom-right',
    welcomeMessage: 'Xin ch√†o! Ch√∫ng t√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?',
    theme: {
      primaryColor: '#3B82F6',
      textColor: '#374151',
      backgroundColor: '#FFFFFF'
    },
    fields: [
      { name: 'name', label: 'H·ªç t√™n', type: 'text', required: true },
      { name: 'phone', label: 'S·ªë ƒëi·ªán tho·∫°i', type: 'tel', required: true },
      { name: 'email', label: 'Email', type: 'email', required: false },
      { name: 'content', label: 'N·ªôi dung', type: 'textarea', required: true }
    ]
  };
&lt;/script&gt;
&lt;script src="https://your-domain.com/widget/chat-widget.js"&gt;&lt;/script&gt;</pre>
        </div>

        <div class="config-section">
            <h3>üéõÔ∏è T√πy ch·ªânh demo:</h3>
            <button class="button" onclick="changeTheme('blue')">Theme Xanh</button>
            <button class="button" onclick="changeTheme('green')">Theme Xanh L√°</button>
            <button class="button" onclick="changeTheme('red')">Theme ƒê·ªè</button>
            <button class="button" onclick="changePosition()">ƒê·ªïi V·ªã Tr√≠</button>
        </div>
    </div>

    <!-- Script ƒë·ªÉ kh·ªüi t·∫°o widget -->
    <script>
        // C·∫•u h√¨nh m·∫∑c ƒë·ªãnh cho demo
        window.ChatWidgetConfig = {
            serverUrl: 'http://localhost:5000',
            position: 'bottom-right',
            welcomeMessage: 'Xin ch√†o! Ch√∫ng t√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?',
            theme: {
                primaryColor: '#3B82F6',
                textColor: '#374151',
                backgroundColor: '#FFFFFF'
            },
            fields: [
                { name: 'name', label: 'H·ªç t√™n', type: 'text', required: true },
                { name: 'phone', label: 'S·ªë ƒëi·ªán tho·∫°i', type: 'tel', required: true },
                { name: 'email', label: 'Email', type: 'email', required: false },
                { name: 'address', label: 'ƒê·ªãa ch·ªâ', type: 'text', required: false },
                { name: 'content', label: 'N·ªôi dung c·∫ßn h·ªó tr·ª£', type: 'textarea', required: true }
            ]
        };

        // Bi·∫øn ƒë·ªÉ l∆∞u instance widget
        let widgetInstance = null;

        // Hi·ªÉn th·ªã c·∫•u h√¨nh hi·ªán t·∫°i
        function updateConfigDisplay() {
            document.getElementById('config-display').textContent = 
                JSON.stringify(window.ChatWidgetConfig, null, 2);
        }
        
        // Kh·ªüi t·∫°o l·∫°i widget v·ªõi c·∫•u h√¨nh m·ªõi
        function reinitWidget() {
            if (widgetInstance) {
                widgetInstance.destroy();
            }
            widgetInstance = window.initChatWidget(window.ChatWidgetConfig);
        }

        // Thay ƒë·ªïi theme
        function changeTheme(theme) {
            const themes = {
                blue: '#3B82F6',
                green: '#10B981', 
                red: '#EF4444'
            };
            
            window.ChatWidgetConfig.theme.primaryColor = themes[theme];
            updateConfigDisplay();
            reinitWidget();
        }

        // Thay ƒë·ªïi v·ªã tr√≠
        function changePosition() {
            const positions = ['bottom-right', 'bottom-left', 'top-right', 'top-left'];
            const currentPos = window.ChatWidgetConfig.position;
            const currentIndex = positions.indexOf(currentPos);
            const nextIndex = (currentIndex + 1) % positions.length;
            
            window.ChatWidgetConfig.position = positions[nextIndex];
            updateConfigDisplay();
            reinitWidget();
        }

        // Kh·ªüi t·∫°o khi trang load
        window.addEventListener('DOMContentLoaded', function() {
            updateConfigDisplay();
            
            // ƒê·ª£i widget script load xong
            if (window.initChatWidget) {
                widgetInstance = window.initChatWidget(window.ChatWidgetConfig);
            }
        });
    </script>
</body>
</html>